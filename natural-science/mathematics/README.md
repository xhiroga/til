# 数学 (mathematics)

## 基礎知識

式, 等式, 方程式は、言葉が似ているがそれぞれ違う意味を持つ。[^koto_hajime__2021]
[^koto_hajime__2021]: [3-1．いまさらきけない方程式（等式、方程式、恒等式、公式）](https://note.com/koto_hajime_/n/n5337ee585c1e)

狭義の式 (数式, 計算式, expression)は、ただの数を含む数の表現である。それに対して数同士の関係を表す式（=や≦が含まれる）のうち、変数の値によっては成り立つ式を方程式(equation)、そうでないものを恒等式 (identity)（不等号の場合は絶対不等式）と呼ぶ。次の通り表にまとめた。

![formula](https://i.gyazo.com/thumb/2966/d9de9ea0f2fbc44427ced2b1cce4a2da-heic.jpg)

数学における狭義の式と関係を表す式の関係性は、プログラミングにおける式 (expression)と文 (statement)の関係性に近い。

```python
3+4 # 式
x = 5+6 # 文
```

上付き文字、下付き文字は、英語では"superscript", "subscript"という。上付き文字、下付き文字で修飾されていることは、それぞれ「サブ」「スープ」と呼ぶガイドラインがある。[^accessinghigherground_2013]例えば、$x_a^b$は「エックス サブ エー スープ ビー」でよい。
[^accessinghigherground_2013]: [MATHSPEAK](https://accessinghigherground.org/handouts2013/HTCTU%20Alt%20Format%20Manuals/Math%20Accommodations/07%20MATHSPEAK.pdf)

## 演算

割り算の法と合同について。ある数aとbをmで割ったときの余りが等しい時、「aとbはmを法として合同」という。フェノールとカテコールはヒドロキシ基を法としてどちらもベンゼン環が残る、みたいな話。

<!-- フェノールとカテコールの図 -->

また、素数の法に対して合同な数のペアは、それぞれをn倍しても合同である。これを利用して分子のmodを求める。

<!-- 必要になったら理解して記載する -->

### 剰余の定理

多項式$P(x)$を$(x-a)$で割った余りは$P(a)$

証明は次の通り。

1. $P(x)$を$x-a$で割った余りを$Q(x)$, 余りを$R$とおくと、$P(x)=(x-a)\cdot Q(x)+R$
2. $R$は定数であり、$x$の値がいくつでも変わらない
3. $x=a$を代入して式を整理する。$P(a)=(a-a)\cdot Q(a)+R$, よって$P(a)=R$

## 対数

$log_2{x} = y$において、2を基数、底 (base)、xを真数、yを対数という。基数という言葉には他にも、集合の元の個数（要素の種類）を意味する cardinality number の訳語にも充てられている。

## 平方和の平方根・べき乗和の自然対数

統計などで負の符号の影響を無視するために、平方和してから平方根を取ることがある。例えば標準偏差は、確率変数の各値の平方の和の平均から平均の平方を引いて、その平方根を取った値である。

とはいえ、平方和の平方根が常に元の値の和と一致するわけではない。また、似た概念としてeを底とするべき乗和の自然対数もある。これらの性質をまとめた。[Desmos](https://www.desmos.com/3D/jyzjvofd59)[[🔐](https://www.desmos.com/3D/jyzjvofd59)]も参照。

| 性質 | 平方和の平方根                          | べき乗和の自然対数                                       |
| ---- | --------------------------------------- | -------------------------------------------------------- |
| 概観 | 元の値の和に対して傾き1の凹お椀型になる | 正の範囲では元の値の和に近く、負の範囲ではいい感じに収束 |
| 用途 | 0からの距離を重視したい場合に使う       | 数直線上の大小関係を維持したいときに使う                 |
| 例   | 標準偏差                                | InfoMCE関数                                              |

## 三角関数

三角関数の性質を思い出すとき、単位円を思い浮かべる。そうすると、うっかりsin()やcos()が$x$を引数に取る関数だと勘違いしてしまうことがある。これを防ぐために、逆三角関数まで含めた図を頭に入れておくのも1つの方法である。また、高さ(sin)と幅(cos)では高さが先に定義された、と覚えておくのもよい。さらに言えば、コサイン類似度が頭にあるなら、向きが近いときに0なのがcosと覚えてもいい。

![三角関数・逆三角関数](/images/三角関数・逆三角関数.svg)

なお、逆三角関数といえば三角関数の**逆関数であって、逆数ではない**。ただし$sin^-1(x)$のような書き方をすると、逆関数（$arcsin(x)$）と逆数（$csc(x)$）のどちらを指しているか分からないため、このファイルでは$arcsin(x)$のように書く。余談だが、$log^2(x)$と書いて対数の2乗を指す流儀があるようだが、2階微分と紛らわしいので素直に括弧で括ってから累乗してほしい。

## 集合 (set)

### 必要条件・十分条件 (necessary condition and sufficient condition)

あべこべになりやすい理由は次の通りと思われる。

- 包含関係と論理和を間違えやすい。例えば、どちらも箇条書きで段落を下げて書くのは自然である
- 日本語の「ならば」は「成る (become)」の活用のため、同値関係を言っているようにも状態遷移を言っているようにも聞こえる
- PとQだけで説明すると、どちらが「偉い」のか分かりづらい（3つ以上の条件を登場させると良い）

包含関係と論理和の違いは、考えをロジックツリーで整理する際に「OR型」「AND型」の違いとして現れる。[^ltkensyu_2017]「東京に住んでいる」という条件を、「千代田区 or 中央区 or...」とするか、「日本かつ首都」とするかの違いと考えれば良い。ベン図を描くことで取り違いを防ぐことができそうだ。
[^ltkensyu_2017]: [ロジックツリーの作成](https://www.ltkensyu.com/logicalthinking/1-4/4-1/)

「PならばQ」については、「Qの時に限ってP」とした方が誤解がないと思われるが、語順が入れ替わってしまう。なお、英語では"P if and only if Q"[^wikipedia_necessity_and_sufficiency]と説明される。
[^wikipedia_necessity_and_sufficiency]: [Simultaneous necessity and sufficiency](https://en.wikipedia.org/wiki/Necessity_and_sufficiency#Simultaneous_necessity_and_sufficiency)

前述の注意を踏まえると、「ベン図にした時に大きいほうが必要条件、小さいほうが十分条件」と覚えるのが一番勘違いが無さそうだ。

## 証明 (proofs)

[証明の読み方・考え方](https://amzn.to/3xNHJ2Q)を参考にした。

### 前進後退法 (forward-backward method)

最も基本的な証明法。証明したい命題を「AならばB」とした時に、Aから導かれる別の主張を言うことを前進過程 (forward process)という。
Bを言うための、問題に特有の記号を含まない質問を抽象質問 (abstract question, key question)といい、その過程を後退過程 (backward process)という。前進過程と後退過程を繰り返し、それらの主張と質問が繋がるように試みることで、証明を解くことができる。

### 量化詞 (quantifier)

命題において、「〜が存在する」を存在量化詞 (existential quantifier)、「全ての〜に対して」を全称量化詞 (universal quantifier)という。

存在量化詞が含まれる時、特に後退過程で、そのような対象を具体的に構成してしまう（そのような数をxとおく、等）手法を構成法 (construction method)という。
